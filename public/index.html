<!DOCTYPE html>
<html lang="en">

<head>

    <script>
        document.onreadystatechange = function() {
            if (document.readyState === "complete") {

                function loginAjax() {
                    var username = document.getElementById("username");
                    var password = document.getElementById("password");

                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function () {
                        if (this.readyState == 4 && this.status == 200) {
                            window.location.replace("/public/showRecipesMy.html");
                        }
                        else if (this.readyState == 4 && this.status == 500) {
                            var incorrect = document.getElementById("incorrect");
                            incorrect.style.display = "block";
                        }
                    };

                    xhttp.open("GET", "/login/" + username.value + "/" + password.value, true);
                    xhttp.send();
                }

                var login = document.getElementById("login-btn");
                login.addEventListener('click', loginAjax);
            }
        }
    </script>
    <meta charset="utf-8">
    <title>Cooking - Sign In</title>

    <!-- Google Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700|Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="../static/css/animate.css">
    <!-- Custom Stylesheet -->
    <link rel="stylesheet" href="../static/css/styleIntro.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>

<body>
<div class="container">
    <div class="top">
        <h1 id="title" class="hidden"><span id="logo">Cooking Network <span></span></span></h1>
    </div>
    <div class="login-box animated fadeInUp">
        <div class="box-header">
            <h2>Log In</h2>
        </div>

        <label for="username">Username</label>
        <br/>
        <input type="text" id="username">
        <br/>
        <label for="password">Password</label>
        <br/>
        <input type="password" id="password">
        <br/>
        <button type="submit" id="login-btn" value="send" class="btn btn-success">Sign In</button>
        <br/>
        <div id="incorrect" style="color:red; display:none">
            <p><small>The User/Password Are Incorrect</small></p>
        </div>
        <a href="/public/register.html"><p class="small">Don't you have an account? Sign Up!</p></a>


    </div>
</div>

</body>

<script>
    $(document).ready(function () {
        $('#logo').addClass('animated fadeInDown');
        $("input:text:visible:first").focus();
    });
    $('#username').focus(function() {
        $('label[for="username"]').addClass('selected');
    });
    $('#username').blur(function() {
        $('label[for="username"]').removeClass('selected');
    });
    $('#password').focus(function() {
        $('label[for="password"]').addClass('selected');
    });
    $('#password').blur(function() {
        $('label[for="password"]').removeClass('selected');
    });
</script>

</html>